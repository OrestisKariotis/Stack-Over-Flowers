## Σχεδιασμός Βάσης

Η πλατφόρμα μας θα διαθέτει μια βάση δεδομένων, στην οποία θα βρίσκονται αποθηκευμένα όλα τα δεδομένα που μας είναι απαραίτητα για τη λειτουργία της πλατφόρμας.
Οι τύποι σχέσης που θα περιέχει το σχεσιακό μοντέλο της βάσης μας είναι οι ακόλουθοι:

<br>
<br>

* **Γονείς**
 >Στη βάση μας θα υπάρχει ένας πίνακας των εγγεγραμμένων γονέων στην πλατφόρμα μας. Τα επιμέρους πέδια που θα αναγράφονται για             κάθε γονέα  είναι αυτά που φαίνονται παρακάτω:
 
<br>


| Id | Όνομα | Επώνυμο | Username | Password | Τηλέφωνο | Ε-mail | Διαθέσιμοι Πόντοι | Ξοδευμένοι πόντοι | ban bit |
|----|-------|---------|----------|----------|----------|--------|-------------------|-------------------|---------|
          
<br>
 
 >Κάθε γονέας θα έχει το δικό του μοναδικό id  που θα τον διακρίνει από τους άλλους γονείς και θα αποτελεί την «ταυτότητα» του
  συγκεκριμένου γονέα. Το id του γονέα θα είναι ένας φυσικός αριθμός και συγκεκριμένα ο τρέχον αύξων αριθμός εγγραφής του στην
  πλατφόρμα μας. Επίσης, όπως φαίνεται παραπάνω, για κάθε γονέα θα κρατάμε στη βάση μας το όνομά του, το επώνυμό του, το τηλέφωνό του,
  το e-mail του, τους διαθέσιμους πόντους που θα κατέχει εκείνη τη χρονική στιγμή στο ηλεκτρονικό του πορτοφόλι, καθώς και το συνολικό
  χρηματικό ποσό που έχει ξοδέψει στην πλατφόρμα μας.
  
<br>
<br>

* **Πάροχοι σε αναμονή έγκρισης**
 >Στη βάση μας θα υπάρχει ένας πίνακας των χρηστών που έχουν συμπληρώσει τη φόρμα για εγγραφή ως πάροχοι και αναμένουν την αποδοχή των 
  διαχειριστών. Ο πίνακας αυτός είναι ο παρακάτω:
<br>
  
  | Id | Όνομα | Επώνυμο | Username | Password | Όνομα Επιχείρησης | Τηλέφωνο | E-mail | Αριθμός Λογαριασμού |
  |----|-------|---------|----------|----------|-------------------|----------|--------|---------------------| 

<br>
<br>


* **Πάροχοι Υπηρεσιών** 
 >Η βάση μας θα περιέχει τα στοιχεία των παρόχων που φαίνονται παρακάτω:

<br>

| Id | Όνομα | Επώνυμο | Username | Password | Όνομα Επιχείρησης |  Τηλέφωνο | E-mail | Αριθμός Λογαριασμού | Δικαίωμα Χρήσης | Έσοδα | ban number|
|----|-------|---------|----------|----------|-------------------|-----------|--------|---------------------|-----------------|----------|---|

<br>

 >Όμοια με τους γονείς, οι πάροχοι θα διαθέτουν το δικό τους μοναδικό id, που θα αποτελεί το αναγνωριστικό τους και είναι ένας
  φυσικός αριθμός που προκύπτει από τη σειρά εγγραφής τους στην πλατφόρμα μας. Τα υπόλοιπα στοιχεία που θα αναγράφονται για κάθε
  πάροχο αφορούν το όνομα και το επώνυμό του, το όνομα της επιχείρησής του, το τηλέφωνό του, το e-mail του, τον αριθμό λογαριασμού
  του και το δικαίωμα χρήσης της πλατφόρμας μας. Το δικαίωμα χρήσης της πλατφόρμας μας θα αναπαρίσταται από ένα bit που θα έχει ως
  αρχική τιμή το 1 και θα παίρνει την τιμή 0 όταν αφαιρεθεί το δικαίωμα από κάποιον πάροχο να χρησιμοποιεί την πλατφόρμα μας. Παράλληλα,
  διατηρούμε σε ξεχωριστό φάκελο για κάθε πάροχο, τα έγγραφα πιστοποίσης, τις φωτογραφίες που θέλει να ανεβάσουμε και ό,τι άλλο μας
  στέλνει και είναι απαραίτητο για την επικοινωνία μας μαζί του.

<br>
<br>

* **Διαχειριστές**
 >Τα στοιχεία που αφορούν τους διαχειριστές θα διατηρούνται στη βάση μας, όπως φαίνεται στον επόμενο πίνακα:
 
 <br>
 
  | Id | Username | Password | E-mail |
  |----|----------|----------|--------|
  
<br>
<br>

* **Τρέχοντα events που έχουν εγκριθεί για upload**  
 >Τα στοιχεία των τρεχόντων events που έχουν εγκριθεί από τους διαχειριστές και έχουν ανέβει στην πλατφόρμα μας θα φυλάγονται στη βάση
  μας, όπως φαίνεται στον επόμενο πίνακα:

<br>

| Id-event |	Id-παρόχου |	Όνομα Event |	Ημερομηνία διεξαγωγής | Ώρα Διεξαγωγής | Μέρος Διεξαγωγής | Κατώτατο Ηλικιακό Όριο | Ανώτατο Ηλικιακό Όριο | Είδος Δραστηριότητας | Kόστος Εισιτηρίου | Αρχικός Αριθμός Εισιτηρίων | Περιγραφή Ελευθέρου Κειμένου |
|----------|------------|-------------|-----------------------|----------------|------------------|------------------------|--------------------------|----------------------|-------------------|----------------------------|------------------------------|

<br>

 >Δηλαδή, για κάθε δραστηριότητα θα κρατάμε στη βάση μας 2 φυσικούς αριθμούς που θα αντιπροσωπεύουν το id του event (το οποίο θα
  προσδιορίζει τη δραστηριότητα) και το id του παρόχου που θα διοργανώνει το event. Επίσης, θα κρατάμε το όνομα του event, την
  ημερομηνία, την ώρα και τον τόπο διεξαγωγής του, το εύρος των ηλικιών στις οποίες απευθύνεται, το είδος του, το κόστος του εισιτηρίου
  για το event, τον αρχικό αριθμό εισιτηρίων που διατέθηκαν γι'αυτό, τον αριθμό των εισιτηρίων που έχουν απομείνει διαθέσιμα και μια 
  σύντομη περιγραφή ελευθέρου κειμένου για το event.
  
<br>
<br>

* **Events που περιμένουν έγκριση για upload**
 >Για κάθε δραστηριότητα που αναμένει την έγκριση του administrator για να γίνει upload θα κρατάμε τα στοιχεία που φαίνονται
  στον παρακάτω πίνακα:

<br>

| Id-event |	Id-παρόχου |	Όνομα Event |	Ημερομηνία διεξαγωγής | Ώρα Διεξαγωγής | Μέρος Διεξαγωγής | Κατώτατο Ηλικιακό Όριο | Ανώτατο Ηλικιακό Όριο | Είδος Δραστηριότητας | Kόστος Εισιτηρίου | Αρχικός Αριθμός Εισιτηρίων | Αριθμός Διαθέσιμων Εισιτηρίων | Περιγραφή Ελευθέρου Κειμένου
|----------|------------|-------------|-----------------------|----------------|------------------|------------------------|--------------------------|----------------------|-------------------|----------------------------|-------------------------------|----------------------------|

<br>
<br>

* **Εισιτήρια**  
 >Τα πεδία που απαρτίζουν τον πίνακα των εισιτηρίων που θα υπάρχει στη βάση μας είναι αυτά που εμφανίζονται παρακάτω:
 
<br>

| Ιd-εισιτηρίου | Id-γονέα | Id-event | bit επικύρωσης |
|---------------|----------|----------|----------------|

<br>
 
 >Δηλαδή, στο πρώτο πεδίο θα σημειώνεται το id του εισιτηρίου. Στο δεύτερο πεδίο θα κρατάμε το id του γονέα-κατόχου του εισιτηρίου, ενώ
 στα άλλα δύο πεδία θα αποθηκεύουμε το όνομα της δραστηριότητας και το bit που θα μας δείχνει αν έχει επικυρωθεί το εισιτήριο
 (σημειώνουμε τιμή 1 όταν επικυρωθεί, ενώ αρχική τιμή του bit αυτού είναι το 0). 
 
<br>
<br>



* **Παλαιότερα events** 
 >Τα events που έχουν λάβει χώρα τον τελευταίο ένα χρόνο θα διατηρούνται σε έναν ξεχωριστό πίνακα, στον οποίο θα αναγράφονται γι’ αυτά:   το id τους, το id του παρόχου, το όνομά τους, η ημερομηνία διεξαγωγής τους, το πλήθος των εισιτηρίων που διατέθηκαν και το πλήθος των
  εισιτηρίων που πωλήθηκαν γι'αυτά.
  Με αυτόν τον τρόπο, θα επιτυγχάνεται ένας έμμεσος τρόπος αξιολόγησης των παρόχων για τις δραστηριότητες τους. Τα πεδία του πίνακα       αυτού φαίνονται και παρακάτω:
  
<br>


| Id-event |	Id-παρόχου |	Όνομα event | Ημερομηνία διεξαγωγής | Ώρα Διεξαγωγής | Είδος Δραστηριότητας | Κόστος εισιτηρίου |	Πλήθος εισιτηρίων που διατέθηκαν | Πλήθος εισιτηρίων που πωλήθηκαν |
|----------|------------|-------------|-----------------------|----------------|----------------------|-------------------|---------------------------------------|---------------------------------|

<br>
<br>

* **Παλαιότερα εισιτήρια**
 >Τα εισιτήρια που αφορούν events που έχουν λάβει χώρα τον τελευταιο χρόνο διατηρούνται σε έναν ξεχωριστό πίνακα, η δομή του οποίου 
  φαίνεται παρακάτω:
  
<br>
  
| Ιd-εισιτηρίου | Id-γονέα | Id-event |
|---------------|----------|----------|

   
<br>
<br>
<br>



### ΠΕΡΙΓΡΑΦΗ ΛΕΙΤΟΥΡΓΙΩΝ ΠΟΥ ΑΦΟΡΟΥΝ ΤΗ ΒΑΣΗ:

<br>
<br>


*	**Εγγραφή στην πλατφόρμα**
 >Κάθε νέος χρήστης που έχει ολοκληρώσει τη διαδικασία εγγραφής ως γονέας θα καταχωρείται αυτόματα στη βάση μας και θα σημειώνονται
  γι'αυτόν τα στοιχεία που αναφέραμε παραπάνω.
  Αντίθετα, κάθε νέος χρήστης που έχει συμπληρώσει την φόρμα εγγραφής ως πάροχος θα καταχωρείται στη λίστα των παρόχων που αναμένουν
  έγκριση. Σε περίπτωση που οι διαχειριστές εγκρίνουν την εγγραφή του συγκεκριμένου παρόχου, η καταχωρησή του μεταφέρεται στον πίνακα 
  ενεργών παρόχων της πλατφόρμας μας. Αντίθετα, σε περίπτωση απόρριψης της εγγραφής, ο συγκεκριμένος πάροχος διαγράφεται από τη βάση
  μας.
  
 
<br>
<br>


* **Αίτηση για κοινοποίηση event από πάροχο**
 >Μετά τη συμπλήρωση της φόρμας για το ανέβασμα ενός καινούργιου event από κάποιο πάροχο, η νέα δραστηριότητα θα προστίθεται στη λίστα
  των δραστηριοτήτων που περιμένουν την έγκριση του διαχειριστή. 
  
<br>
<br>

* **Αποδοχή-Απόρριψη event από διαχειριστή**
 >Αν ο διαχειριστής συμφωνήσει για το ανέβασμα μιας δραστηριότητας, τα στοιχεία της δραστηριότητας αυτής μεταφέρονται στον πίνακα των 
  δραστηριοτήτων που έχουν εγκριθεί για upload. Το event γίνεται upload στην πλατφόρμα μας και τα εισιτήριά του διατίθενται προς πώληση.
  Αντίθετα, σε περίπτωση που οι διαχειριστές δε συμφωνήσουν με το ανέβασμα του συγκεκριμένου event, η δραστηριότητα αυτή θα διαγράφεται 
  από τη βάση μας.

<br>
<br>

* **Αγορά πόντων**
 >Όταν ένας γονέας επιθυμεί να αγοράσει πόντους, θα επιλέγει το πακέτο αγοράς πόντων που επιθυμεί και οι νέοι του πόντοι θα προστίθενται
  στο ηλεκτρονικό του πορτοφόλι του, ενώ παράλληλα θα ενημερώνεται και το αντίστοιχο πεδίο της βάσης μας γι'αυτήν την αλλαγή. Επίσης, το
  χρηματικό ποσό που δαπάνησε για την αγορά του πακέτου θα αθροίζεται στο χρηματικό ποσό που ο συγκεκριμένος γονέας έχει ξοδέψει στην
  πλατφόρμα μας και θα ενημερώνει το ανάλογο πεδίο στη βάση μας.

<br>
<br>


* **Αγορά εισιτηρίων**
 >Πριν γίνει η αγορά του εισιτηρίου ελέγχεται αν υπάρχουν διαθέσιμοι πόντοι, καθώς και η ημερομηνία και ώρα διεξαγωγής της εκδήλωσης. Σε 
  περίπτωση  μη ύπαρξης επαρκών διαθέσιμων πόντων, καθώς και σε περίπτωση που το event έχει ήδη ξεκινήσει θα εμφανίζεται κατάλληλο
  μήνυμα μη δυνατότητας αγοράς. Μόλις ένας γονέας αγοράσει εισιτήριο για κάποιο event, το εν λόγω εισιτήριο θα προστίθεται στη λίστα των
  εισιτηρίων και θα σημειώνονται γι'αυτό τα στοιχεία που προαναφέραμε. Επίσης, θα ενημερώνεται το πεδίο που αφορά το πλήθος των
  διαθέσιμων εισιτηρίων του συγκεκριμένου event και θα αφαιρούνται οι αντίστοιχοι πόντοι από το ηλεκτρονικό πορτοφόλι του γονέα.
  
<br>
<br>


* **Επικύρωση εισιτηρίων**
 >Μετά την επικύρωση ενός ή περισσότερων εισιτηρίων, ενημερώνεται για κάθε νέο επικυρωμένο εισιτήριο το bit επικύρωσης που μετατρέπεται
  από 0 σε 1.

<br>
<br>



* **Διεξαγωγή event** (check μέσω της ημερομηνίας)
 >Μετά το πέρας κάθε μέρας, θα αφαιρούνται από τη βάση των τρεχόντων events οι δραστηριότητες που πραγματοποιήθηκαν τη συγκεκριμένη μέρα
  και θα μεταφέρονται στον πίνακα των παλαιότερων events, όπου θα κρατάμε γι΄αυτά τα πεδία για τα οποία έχουμε ήδη κάνει αναφορά.
  Παράλληλα, μετά την ολοκλήρωση κάθε μέρας θα αναζητάμε στη λίστα των παλαιότερων events, αυτά που πραγματοποιήθηκαν ακριβώς 1 χρόνο
  πριν, απελευθερώνοντας την αντίστοιχη μνήμη στη βάση μας.


<br>
<br>


* **Αλλαγή/Ανάκτηση κωδικών**
 Προσωρινός κωδικός ή απευθείας λινκ???

<br>
<br>


* **Tροποποίηση Δικαιωμάτων χρηστών**

<br>
<br>


* **Απόδοση Bonus**


<br>
<br>
+δικαιώματα χρήσης χρηστών????
