@startuml

start
:open desired event's details;
:select number of tickets;
:check conditions;
fork
:check remaining points;
fork again
:check remaining tickets;
:check if event expired;
end fork
if (all conditions met) then (yes)
	:successful purchase;
	if (reached point usage quota) then (yes)
		:reward parent with bonus points;
		end
	else (no)
		end
	endif
else (no)
	:inform parent about reason of failure;
	end
endif

@enduml
